#!/usr/bin/env bash
: ${REPO_PATH:="$(realpath $(dirname $(realpath "$BASH_SOURCE[0]")))"}

ZAIRFLOW_VERSION_NUMBERS=($(cat "$REPO_PATH/VERSION" | grep -Eo "([0-9]+)\.([0-9]+).([0-9]+)" | sed -e "s/[.]/ /g"))

# retrive patch version
ZAIRFLOW_MAJOR_VERSION=${ZAIRFLOW_VERSION_NUMBERS[0]}
ZAIRFLOW_MINOR_VERSION=${ZAIRFLOW_VERSION_NUMBERS[1]}
ZAIRFLOW_PATCH_VERSION=${ZAIRFLOW_VERSION_NUMBERS[2]}

: ${ZAIRFLOW_IMAGE_REPOSITORY:="lamaani/zairflow"}
: ${ZAIRFLOW_VERSION:="$ZAIRFLOW_MAJOR_VERSION.$ZAIRFLOW_MINOR_VERSION"}
: ${ZAIRFLOW_FULL_VERSION:="$ZAIRFLOW_VERSION.$ZAIRFLOW_PATCH_VERSION"}
